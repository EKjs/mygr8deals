{"version":3,"sources":["context/AppContext.js","components/ProtectedRoute.js","components/CitiesSearchInput.js","components/SearchBar.js","components/MenuLinks.js","components/SideBarMenu.js","components/Navigation.js","components/AddToFavsButton.js","components/AdCard.js","components/LoadingSpinner.js","components/PageNums.js","components/MainPage.js","components/Footer.js","components/SignIn.js","components/SignUp.js","components/MapGeolocationPos.js","components/CreateNewAd.js","components/admin/AddEditCategory.js","components/ViewSingleAd.js","components/UserProfile.js","components/EditProfile.js","components/EditStore.js","components/SearchResults.js","components/MyAdsPage.js","components/MyFavAds.js","components/MyMessages.js","components/StoreProfile.js","components/ViewStore.js","components/NotFound.js","components/MyFavUsers.js","App.js","index.js"],"names":["AppContext","createContext","AppContextWrapper","children","hist","useHistory","authToken","localStorage","getItem","useState","loading","setLoading","error","setError","isAuthenticated","setIsAuthenticated","categoriesList","setCategoriesList","subCategoriesList","setSubCategoriesList","updateMenuItems","setUpdateMenuItems","searchParams","setSearchParams","useEffect","a","axios","get","process","catList","data","subCatList","response","setTimeout","message","loadMenuData","decoded","jwt_decode","console","log","Date","now","exp","toLocaleString","removeItem","push","signUp","password","passwordConfirm","post","token","userName","userId","userType","setItem","signIn","Provider","value","signOut","ProtectedRoute","Component","component","rest","pathname","useLocation","useContext","render","to","state","next","CitiesSearchInput","setCoords","setCityId","cityPlaceholder","plzOrCityInput","setPlzOrCityInput","citiesToChoose","setCitiesToChoose","show","setShow","target","useRef","timer","getCitiesListFromServer","curInpVal","reqBody","searchString","length","FormControl","type","placeholder","aria-label","onChange","e","current","clearTimeout","onBlur","onFocus","ref","Overlay","placement","Popover","className","style","maxHeight","id","Body","map","item","idx","Dropdown","Item","onClick","city","name","coords","SearchBar","curCityId","setCurCityId","searchQ","setSearchQ","radius","setRadius","Navbar","Text","Form","InputGroup","backgroundColor","as","htmlSize","r","RegExp","match","parseInt","list","Button","cityId","cityCoords","distance","searchText","fromDashboard","variant","MenuLinks","Spinner","animation","Alert","Link","catItem","description","filter","scItem","parentId","SideBarMenu","size","Offcanvas","onHide","Header","closeButton","Title","Navigation","collapseOnSelect","expand","bg","Container","fluid","Brand","NavLink","Toggle","aria-controls","Collapse","Nav","align","Menu","marginRight","Divider","AddToFavsButton","targetId","path","addedToFavs","setAddedToFavs","addToFavors","descr","url","favData","favAdId","favUserId","headers","Authorization","color","cursor","OverlayTrigger","overlay","Tooltip","pointerEvents","AdCard","photo","title","price","address","created","catId","adId","views","cityName","subCategory","category","subCategoryId","adminDeleteAd","delete","Col","Card","width","minHeight","border","Img","objectFit","height","src","textDecoration","substring","Row","xs","LoadingSpinner","role","PageNums","totalPages","currentPage","cbPageClick","pageNeighbours","LEFT_PAGE","RIGHT_PAGE","range","from","step","i","pages","totalNumbers","Math","max","min","startPage","endPage","hasLeftSpill","hasRightSpill","spillOffset","extraPages","fetchPageNumbers","Pagination","page","index","Prev","Next","active","MainPage","useParams","subCatId","adsByUserId","adsByStoreId","currentlyLoadedAds","setCurrentlyLoadedAds","curPage","setCurPage","setTotalPages","adList","ceil","totalRows","getAds","ad","photos","sm","Footer","href","htmlFor","SignIn","location","email","setEmail","setPassword","submitForm","preventDefault","md","onSubmit","FloatingLabel","controlId","label","Control","required","Group","Check","SignUp","setUserName","phone","setPhoneNum","setPasswordConfirm","validated","setValidated","currentTarget","checkValidity","stopPropagation","noValidate","feedback","MapGeolocationPos","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","err","warn","code","enableHighAccuracy","timeout","maximumAge","center","defaultZoom","latLng","anchor","CreateNewAd","axiosConfig","adTitle","setAdTitle","adPrice","setAdPrice","adAddress","setAdAddress","adCurStatus","setAdCurStatus","adStatuses","setAdStatuses","setCityPlaceholder","selectedCatId","setSelectedCatId","selectedSubCatId","setSelectedSubCatId","curSubCatList","setCurSubCatList","photoArray","setPhotoArray","adDescription","setAdDescription","sellAsStore","setSellAsStore","submitDataToServer","Number","isFinite","parseFloat","sendData","currentState","put","resp","deletePhoto","photoFilename","prev","baseUrl","subCatsOfCat","subCat","getAvalableStatuses","loadAdDetails","uploadImages","formData","FormData","files","append","uploadedFilesPath","Select","cat","checked","multiple","Label","Carousel","alt","Caption","status","AddEditCategory","catDesc","setCatDesc","subCatDesc","setSubCatDesc","sendReq","reqType","curCat","find","curSubCat","disabled","ViewSingleAd","adData","setAdData","storeId","classname","storeName","ownerId","userPhone","wasOnline","UserProfile","profileData","setProfileData","showModal","setShowModal","handleModalClose","handleDeleteProfile","registerDate","Modal","backdrop","keyboard","EditProfile","setPhone","showAlert","setShowAlert","handleSaveChanges","editedProfile","String","EditStore","storeTitle","setStoreTitle","storeAddress","setStoreAddress","storeDescription","setStoreDescription","storeLogoImg","setStoreLogoImg","setCityName","loadStoreDetails","uploadImage","uploadedFile","storeData","SearchResults","searchInCat","setSearchInCat","searchInSubCat","setSearchInSubCat","defaultChecked","MyAdsPage","deleteId","setDeleteId","showToast","setShowToast","showToast2","setShowToast2","updateMyAdsList","setUpdateMyAdsList","adIdForStatus","setAdIdForStatus","adStatus","setAdStatus","showModalStateChg","setShowModalStateChg","handleModalStateChgClose","handleDeleteAd","handleChangeAdStatus","editData","adNewStateId","ToastContainer","position","Toast","onClose","delay","autohide","Table","responsive","MyFavAds","favAds","setFavAds","updateFavList","setUpdateFavList","editId","setEditId","editAdId","setEditAdId","editFavText","setEditFavText","showModalEditor","setShowModalEditor","handleModalEditorClose","favList","getFavAds","handleDeleteFavAd","fav","cols","rows","MyMessages","messageList","setMessageList","updateMessageList","setUpdateMessageList","msgList","getMessageList","markRead","msgId","res","deleteMsg","msg","fromUserName","msgRead","msgTitle","StoreProfile","setStoreData","handleDeleteStore","ViewStore","NotFound","MyFavUsers","favUsers","setFavUsers","getFavUsers","App","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4bdbaaf.chunk.js","sourcesContent":["import { useState, useEffect, createContext } from \"react\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from \"react-router\";\n\nexport const AppContext = createContext();\n\nconst AppContextWrapper = ({ children }) => {\n  const hist = useHistory();\n  const authToken = localStorage.getItem(\"token\");\n/*   const userName = localStorage.getItem(\"userName\");\n  const userId = localStorage.getItem(\"userId\"); */\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  /* useEffect(() => authToken && setIsAuthenticated(true), [authToken]); */\n\n  const [categoriesList, setCategoriesList] = useState([]);\n  const [subCategoriesList, setSubCategoriesList] = useState([]);\n  //const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState([]);\n//  const [userType,setUserType] = useState(null);\n  const [updateMenuItems,setUpdateMenuItems] = useState(true);\n  const [searchParams,setSearchParams] = useState({});\n\n  useEffect(()=>{\n    const loadMenuData = async () => {\n      try {\n        setLoading(true);\n        const { data:catList } = await axios.get(`${process.env.REACT_APP_BE}categories`);\n        setCategoriesList(catList);\n        const { data:subCatList } = await axios.get(`${process.env.REACT_APP_BE}subcategories`);\n        setSubCategoriesList(subCatList);\n        setLoading(false);\n        //console.log('c',catList,'sc',subCatList);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 3000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 3000);\n          setLoading(false);\n        }\n      }\n\n    };\n    loadMenuData();\n},[updateMenuItems])\n\n  useEffect(() => {\n    if (authToken){\n      const decoded = jwt_decode(authToken);\n      console.log(decoded,Date.now());\n      console.log(new Date(decoded.exp*1000).toLocaleString());\n      if(Date.now()<decoded.exp*1000){\n        console.log('token not expired');\n        setIsAuthenticated(true)\n      }else{\n        console.log('token expired');\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"userName\");\n        localStorage.removeItem(\"userId\");\n        localStorage.removeItem(\"userType\");\n        setIsAuthenticated(false);\n        hist.push('/signin');\n      }\n    }\n  }, [authToken,hist]);\n\n  const signUp = async (data) => {\n    if (data.password !== data.passwordConfirm) {\n      setError(\"Passwords do not match\");\n      setTimeout(() => setError(null), 3000);\n      return;\n    }\n    try {\n      setLoading(true);\n      const {\n        data: { token, userName, userId, userType },\n      } = await axios.post(\n        `${process.env.REACT_APP_BE}users/`,\n        data\n      );\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"userName\", userName);\n      localStorage.setItem(\"userId\", userId);\n      localStorage.setItem(\"userType\", userType);\n      setIsAuthenticated(true);\n      setLoading(false);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 3000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 3000);\n        setLoading(false);\n      }\n    }\n  };\n\n  const signIn = async (data) => {\n    try {\n      setLoading(true);\n      const {\n        data: { token, userName, userId, userType },\n      } = await axios.post(\n        `${process.env.REACT_APP_BE}users/signin`,\n        data\n      );\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"userName\", userName);\n      localStorage.setItem(\"userId\", userId);\n      localStorage.setItem(\"userType\", userType);\n      setIsAuthenticated(true);\n      setLoading(false);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      }\n    }\n  };\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userName\");\n    localStorage.removeItem(\"userId\");\n    setIsAuthenticated(false);\n  };\n\n  return (\n    <AppContext.Provider\n      value={{ searchParams,setSearchParams,categoriesList,subCategoriesList, loading, isAuthenticated, error, signUp, signIn, signOut, setLoading, setError,updateMenuItems,setUpdateMenuItems }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppContextWrapper;\n","import { useContext } from 'react';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { pathname } = useLocation();\n  const { isAuthenticated } = useContext(AppContext);\n  return isAuthenticated ? (\n    <Route {...rest} render={() => <Component />} />\n  ) : (\n    <Redirect to={{ pathname: '/', state: { next: pathname } }} />\n  );\n};\n\nexport default ProtectedRoute;\n","import { Dropdown,FormControl,Popover,Overlay } from 'react-bootstrap';\nimport { useState,useRef,useEffect } from 'react';\nimport axios from 'axios';\n\nconst CitiesSearchInput = ({setCoords,setCityId,cityPlaceholder}) => {\n    const [plzOrCityInput, setPlzOrCityInput] = useState('');\n    const [citiesToChoose,setCitiesToChoose] = useState([]);\n    const [show, setShow] = useState(false);\n    const target = useRef(null);\n    const timer = useRef(null);\n\n    const getCitiesListFromServer = async (curInpVal) => {\n        const reqBody = { searchString: curInpVal };\n        const { data } = await axios.post(`${process.env.REACT_APP_BE}search/plzorcity/`,reqBody);\n        setCitiesToChoose(data);\n        if (data.length > 0)setShow(true);\n        else setShow(false);\n    };\n\n    const cityClick = (city) => {\n        setPlzOrCityInput(city.name);\n        setCityId(city.id);\n        setCoords(city.coords);\n    };\n\n    const changePlzOrCityInput = (e) => {\n        const curInpVal = e.target.value;\n        setPlzOrCityInput(curInpVal);\n        if (curInpVal.length > 2) {\n          if (timer.current) {\n            clearTimeout(timer.current);\n          }\n          timer.current = setTimeout(() => {\n            getCitiesListFromServer(curInpVal);\n          }, 1000);\n        }else{\n            if (timer.current)clearTimeout(timer.current);\n        }\n    };\n    useEffect(() => {\n        if(cityPlaceholder)setPlzOrCityInput(cityPlaceholder);\n    }, [cityPlaceholder])\n/* \n    const getMyCoords = () => {\n        const options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n            };\n        const success=pos=>setCoords([pos.coords.latitude,pos.coords.longitude]);\n        const error=err=>console.warn(`ERROR(${err.code}): ${err.message}`);\n        navigator.geolocation.getCurrentPosition(success, error, options);\n        onKeyPress={(e)=>{if(e.key==='Enter')getMyCoords()}}\n    };\n */\n/* useEffect(() => {\n    if(cityId)setPlzOrCityInput()\n}, []) */\n\n    return (\n        <>\n    <FormControl\n        type=\"text\"\n        placeholder=\"City or PLZ\"\n        aria-label=\"SearchCityPLZ\"\n        value={plzOrCityInput}\n        onChange={changePlzOrCityInput}\n        \n        onBlur={() => setShow(false)}\n        onFocus={() =>\n        plzOrCityInput.length > 3 &&\n        citiesToChoose.length > 0 &&\n        setShow(true)\n        }\n        ref={target}\n        />\n        <Overlay target={target.current} show={show} placement=\"bottom\">\n            <Popover className=\"overflow-auto\" style={{ maxHeight: \"50%\" }} id=\"popover-basic\">\n            <Popover.Body>\n                {citiesToChoose.map((item, idx) => (\n                <Dropdown.Item key={`optK${idx}`} onClick={() => cityClick(item)}>\n                    {item.name}\n                </Dropdown.Item>\n                ))}\n            </Popover.Body>\n            </Popover>\n        </Overlay>  \n        </>\n    )\n}\n\nexport default CitiesSearchInput\n","import { useState, useContext } from \"react\";\nimport {\n  Form,\n  FormControl,\n  Button,\n  InputGroup,\n Navbar\n} from \"react-bootstrap\";\nimport { Search, GeoAlt } from \"react-bootstrap-icons\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { AppContext } from \"../context/AppContext\";\nimport CitiesSearchInput from \"./CitiesSearchInput\";\n\nconst SearchBar = () => {\n    const { setSearchParams } =\n    useContext(AppContext);\n    const hist = useHistory();\n  const [curCityId, setCurCityId] = useState();\n  const [coords,setCoords] = useState();\n  const [searchQ, setSearchQ] = useState('');\n  const [radius, setRadius] = useState('');\n\n\n\n  const doSearch = () => {\n\n    //cityId, cityCoords, distance, searchText, catId, subCatId\n    const reqBody = {\n      cityId: curCityId,\n      cityCoords:coords,\n      distance: radius,\n      searchText:searchQ,\n/*       catId:null,\n      subCatId:null, */\n    };\n    setSearchParams(reqBody);\n    const location = {\n      pathname: '/search',\n      state: { fromDashboard: true }\n    }\n    hist.push(location)\n    /* const getData = async () => {\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_BE}search/v2/`,\n        reqBody\n      );\n      setSearchParams(data)\n      console.log(data);\n    };\n    getData(); */\n  };\n  const inputRadius = (e) => {\n    const r = new RegExp(/^[0-9]*$/);\n    if (e.target.value.match(r)) {\n      console.log(e.target.value);\n      if (parseInt(e.target.value, 10) > 100) {\n        setRadius(100);\n      } else setRadius(e.target.value);\n    }\n  };\n\n  return (\n    <Navbar.Text className='me-auto'>\n      <Form className=\"d-flex flex-column flex-md-row\">\n        <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            <Search />\n          </InputGroup.Text>\n          <FormControl\n            type=\"search\"\n            placeholder=\"Search\"\n            className=\"mr-2\"\n            aria-label=\"Search\"\n            onChange={(e) => setSearchQ(e.target.value)}\n          />\n          </InputGroup>\n          <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            <GeoAlt />\n          </InputGroup.Text>\n            <CitiesSearchInput setCoords={setCoords}  setCityId={setCurCityId} /> \n          </InputGroup>\n          <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            +\n          </InputGroup.Text>\n          <FormControl\n            type=\"text\"\n            as=\"input\"\n            htmlSize={1}\n            placeholder=\"0 km\"\n            className=\"mr-2\"\n            aria-label=\"radius\"\n            onChange={inputRadius}\n            value={radius}\n            list=\"distance-variants\"\n          />\n        <datalist id=\"distance-variants\">\n            <option value=\"5\"/>\n            <option value=\"10\"/>\n            <option value=\"15\"/>\n            <option value=\"25\"/>\n            <option value=\"50\"/>\n        </datalist>\n          <Button\n            onClick={doSearch}\n            variant=\"secondary\"\n            style={{ backgroundColor: \"#f7f7f9\" }}\n          >\n            Search\n          </Button>\n        </InputGroup>\n      </Form>\n      </Navbar.Text>\n  );\n};\nexport default SearchBar;","import { useContext } from \"react\";\nimport { Spinner, Alert, Dropdown } from \"react-bootstrap\";\nimport { AppContext } from \"../context/AppContext\";\nimport { Link } from \"react-router-dom\";\n\nconst MenuLinks = ({setShow}) => {\n  const { categoriesList, subCategoriesList, loading, error  } =\n    useContext(AppContext);\n\n  if (loading) return <Spinner animation=\"border\" variant=\"secondary\" />;\n  if (error) return <Alert variant=\"danger\">{error}</Alert>;\n  return (\n    <ul>\n      <li><Dropdown.Item as={Link} to=\"/\" onClick={()=>setShow(false)}>View all ads</Dropdown.Item></li>\n      {categoriesList.map((catItem, idx) => (\n        <li key={`likc${idx}`}>\n          <Dropdown.Item as={Link} to={`/bycategory/${catItem.id}`} onClick={()=>setShow(false)}>{catItem.description}</Dropdown.Item>\n          <ul>\n            {subCategoriesList\n              .filter((scItem) => {\n                return scItem.parentId === catItem.id;\n              })\n              .map((scItem, idx) => (\n                <li key={`liksc${idx}`}> <Dropdown.Item as={Link} to={`/bysubcategory/${scItem.id}`} onClick={()=>setShow(false)}>{scItem.description}</Dropdown.Item> </li>\n              ))}\n          </ul>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MenuLinks;","import { useState } from 'react';\nimport {Button, Offcanvas, Navbar} from 'react-bootstrap';\nimport { List } from 'react-bootstrap-icons';\nimport MenuLinks from './MenuLinks';\n\n\nconst SideBarMenu = () => {\n    const [show, setShow] = useState(false);\n    const closeMenu = () => setShow(false);\n    const showMenu = () => setShow(true);\n\n  \n    return (\n      <Navbar.Text className='me-auto'>\n        <Button variant=\"secondary\" onClick={showMenu}>\n         <List size={24}/> All categories\n        </Button>\n  \n        <Offcanvas show={show} onHide={closeMenu}>\n          <Offcanvas.Header closeButton>\n            <Offcanvas.Title>What would you like to buy?</Offcanvas.Title>\n          </Offcanvas.Header>\n          <Offcanvas.Body>\n            <MenuLinks setShow={setShow} />\n          </Offcanvas.Body>\n        </Offcanvas>\n        </Navbar.Text>)\n}\n\nexport default SideBarMenu\n","import { Navbar, Container, Nav, Dropdown } from \"react-bootstrap\";\nimport { CashCoin, DoorOpen, FileEarmarkPerson, LayoutTextWindowReverse, ListStars, PersonCheck, PersonPlus, PlusSquare, BookmarkHeart } from \"react-bootstrap-icons\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport SearchBar from \"./SearchBar\";\nimport SideBarMenu from \"./SideBarMenu\";\nimport { AppContext } from \"../context/AppContext\";\nimport { useContext } from \"react\";\n\nconst Navigation = () => {\n  const { isAuthenticated,signOut } = useContext(AppContext);\n  const userType = localStorage.getItem(\"userType\");\n  \n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n      <Container fluid>\n        <Navbar.Brand as={NavLink} to=\"/\">\n          I buy it!\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <SideBarMenu />\n\n          <SearchBar />\n          <Nav>\n            {isAuthenticated ? (<>\n{/*               <Nav.Link as={NavLink} to=\"/newad\">\n                <PlusSquare size={24} /> Sell!\n              </Nav.Link> */}\n              <Navbar.Text>Logged in as: </Navbar.Text>\n              <Dropdown align=\"end\">\n              <Dropdown.Toggle as={Nav.Link}>\n              {localStorage.getItem(\"userName\")}\n              </Dropdown.Toggle>\n              <Dropdown.Menu>\n              <Dropdown.Item as={Link} to=\"/newad\"><PlusSquare size={24} style={{marginRight:'1rem'}} /> Sell!</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myads\"><ListStars size={24} style={{marginRight:'1rem'}}/> My ads</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myprofile\"><FileEarmarkPerson size={24} style={{marginRight:'1rem'}}/>My profile</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/mystore\"><CashCoin size={24} style={{marginRight:'1rem'}}/>My Store</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/messages\"><LayoutTextWindowReverse size={24} style={{marginRight:'1rem'}}/>Messages</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myfavads\"><BookmarkHeart size={24} style={{marginRight:'1rem'}}/>Fav ads</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myfavusers\"><BookmarkHeart size={24} style={{marginRight:'1rem'}}/>Fav users</Dropdown.Item>\n              <Dropdown.Divider />\n              <Dropdown.Item onClick={signOut}><DoorOpen size={24} /> Log out</Dropdown.Item>\n            </Dropdown.Menu>\n              \n              </Dropdown>\n            </>) : (\n              <>\n                <Nav.Link as={NavLink} to=\"/signin\">\n                  <PersonCheck size={24} /> Sign in\n                </Nav.Link>\n                <Nav.Link as={NavLink} to=\"/signup\">\n                  <PersonPlus size={24} /> Sign up\n                </Nav.Link>\n              </>\n            )}\n          </Nav>\n          {userType==='999' && isAuthenticated && (<Nav>\n            <Dropdown>\n              <Dropdown.Toggle variant=\"danger\" id=\"dropdown-basic\">\n                Admin\n              </Dropdown.Toggle>\n\n              <Dropdown.Menu>\n                <Dropdown.Item as={Link} to=\"/admin/categoryeditor\">Edit categories</Dropdown.Item>\n                \n              </Dropdown.Menu>\n            </Dropdown>\n          </Nav>)}\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import axios from \"axios\";\nimport { useState,useContext } from \"react\";\nimport { OverlayTrigger,Tooltip } from \"react-bootstrap\";\nimport { AppContext } from \"../context/AppContext\";\nimport { Heart,HeartFill } from \"react-bootstrap-icons\";\n\nconst AddToFavsButton = ({targetId,description,path}) => {\n    const { isAuthenticated } = useContext(AppContext);\n    const [addedToFavs,setAddedToFavs] = useState(false);\n\n    const addToFavors = async(id,descr) => {\n        let url=`${process.env.REACT_APP_BE}favads/`;\n        let favData = {\n            favAdId: targetId,\n            description: description,\n          };\n        if (path==='user'){\n            url=`${process.env.REACT_APP_BE}favusers/`;\n            favData = {\n                favUserId: targetId,\n                description: description,\n              };\n        }\n        try {\n            const { data } = await axios.post(url,favData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            setAddedToFavs(true);\n          } catch (error) {\n            if (error.response) console.log(error.response.data.error);\n            else console.log(error.message);\n          }\n      }\n\n      if (!isAuthenticated)return <OverlayTrigger overlay={<Tooltip id=\"tooltip-disabled\">Sign in to add to favs</Tooltip>}>\n      <span className=\"d-inline-block\">\n        <Heart style={{ pointerEvents: 'none' }} />\n      </span>\n    </OverlayTrigger>\n      if (addedToFavs) return <HeartFill size={30} color='red' />\n      else return <Heart size={30} color='red' style={{cursor:'pointer'}} onClick={()=>addToFavors()} />\n\n}\n\nexport default AddToFavsButton\n","import {useContext} from 'react';\nimport { Card, Col,Row,Container } from \"react-bootstrap\";\nimport { Trash, Pencil, Eye } from \"react-bootstrap-icons\";\nimport { AppContext } from \"../context/AppContext\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport AddToFavsButton from './AddToFavsButton';\n\nconst AdCard = ({photo,title,address,price,created,catId,adId,views,cityName,cityId,category,subCategory,subCategoryId}) => {\n  const { setError,setLoading } = useContext(AppContext);\n  const userType = localStorage.getItem(\"userType\");\n\n\n  const adminDeleteAd = async (adId) => {\n    console.log(adId);\n    try {\n      setLoading(true);\n      const { data } = await axios.delete(`${process.env.REACT_APP_BE}ads/${adId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n      console.log(data);\n      setLoading(false);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      }\n    }\n  }\n\n  return (\n    <Col>\n      <Card style={{ width: '18rem', minHeight: '36rem'}} border={catId===13 ? 'success': 'secondary'}>\n        \n        {userType==='999' && <Card.Header><Pencil /><Trash onClick={()=>adminDeleteAd(adId)} /></Card.Header> }\n        <Link to={`/view/${adId}`}>\n        <Card.Img className='p-3' style={{objectFit:'cover',height:'20rem' }} variant=\"top\" src={photo && photo.length>0 ? `${process.env.REACT_APP_BE}images/${photo[0]}` : '/images/noimg.png' } />\n        </Link>\n        <Card.Body>\n          <Card.Title>{price} </Card.Title>\n          \n          <Card.Text >\n            <Link to={`/view/${adId}`} style={{textDecoration:'none'}}>{title.substring(0, 100)}{title.length>100 && '...'}</Link>\n          </Card.Text>\n          \n        </Card.Body>\n        \n        <Container><Row><Col>\n        <Row>\n        <Col> \n        <AddToFavsButton targetId={adId} description={title} />\n        </Col>\n        </Row>\n        <Row>\n          <Col>\n          <Link className=\"fs-6 text-muted\" to={`/bysubcategory/${subCategoryId}`} style={{textDecoration:'none'}}>{subCategory} </Link> \n          <Link className=\"fs-6 text-muted\" to={`/bycity/${cityId}`} style={{textDecoration:'none'}}> in {cityName}</Link>\n          </Col>\n        </Row>\n        <Row>\n          <Col xs={9}><p className='fs-6'>{new Date(created).toLocaleString()}</p></Col><Col xs={3}><p className='fs-6'><Eye/> {views}</p></Col>\n          {/* <Link to={`/editad/${adId}`}>edit</Link> */}\n        </Row>\n\n        </Col>\n        </Row></Container>\n      </Card>\n      </Col>\n  );\n};\n\nexport default AdCard;\n","import { Spinner } from \"react-bootstrap\";\n\nconst LoadingSpinner = () => {\n  return (\n    <div className=\"d-flex justify-content-center\">\n      <Spinner animation=\"border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </Spinner>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import { Pagination } from \"react-bootstrap\";\n\nconst PageNums = ({ totalPages, currentPage, cbPageClick,pageNeighbours }) => {\n    //const [pages,setPages] = useState();\n    \n    const LEFT_PAGE = \"LEFT\";\n    const RIGHT_PAGE = \"RIGHT\";\n\n/*     useEffect(() => {\n        setPages(fetchPageNumbers())\n    }, []) */\n\n    /**\n     * Helper method for creating a range of numbers\n     * range(1, 5) => [1, 2, 3, 4, 5]\n     */\n    const range = (from, to, step = 1) => {\n      let i = from;\n      const range = [];\n\n      while (i <= to) {\n        range.push(i);\n        i += step;\n      }\n\n      return range;\n    };\n  /**\n   * Let's say we have 10 pages and we set pageNeighbours to 2\n   * Given that the current page is 6\n   * The pagination control will look like the following:\n   *\n   * (1) < {4 5} [6] {7 8} > (10)\n   *\n   * (x) => terminal pages: first and last page(always visible)\n   * [x] => represents current page\n   * {...x} => represents page neighbours\n   */\n   const fetchPageNumbers = () => {\n           // pageNeighbours can be: 0, 1 or 2\n    pageNeighbours = typeof pageNeighbours === 'number'\n    ? Math.max(0, Math.min(pageNeighbours, 2))\n    : 0;\n\n\n    /**\n     * totalNumbers: the total page numbers to show on the control\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n     */\n    const totalNumbers = (pageNeighbours * 2) + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n      let pages = range(startPage, endPage);\n\n      /**\n       * hasLeftSpill: has hidden pages to the left\n       * hasRightSpill: has hidden pages to the right\n       * spillOffset: number of hidden pages either to the left or to the right\n       */\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = (totalPages - endPage) > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n\n      switch (true) {\n        // handle: (1) < {5 6} [7] {8 9} (10)\n        case (hasLeftSpill && !hasRightSpill): {\n          const extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n\n        // handle: (1) {2 3} [4] {5 6} > (10)\n        case (!hasLeftSpill && hasRightSpill): {\n          const extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n\n        // handle: (1) < {4 5} [6] {7 8} > (10)\n        case (hasLeftSpill && hasRightSpill):\n        default: {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n      }\n\n      return [1, ...pages, totalPages];\n    }\n\n    return range(1, totalPages);\n  }\n  const pages = fetchPageNumbers();\n\n  if (totalPages === 1) return null;\n\n  return (<Pagination>\n    { pages.map((page, index) => {\n\n        if (page === LEFT_PAGE) return (\n/*           <li key={index} className=\"page-item\">\n            <a className=\"page-link\" href=\"#\" aria-label=\"Previous\" onClick={this.handleMoveLeft}>\n              <span aria-hidden=\"true\">&laquo;</span>\n              <span className=\"sr-only\">Previous</span>\n            </a>\n          </li> */\n          <Pagination.Prev onClick={()=>cbPageClick(currentPage-1)} />\n        );\n\n        if (page === RIGHT_PAGE) return (\n/*           <li key={index} className=\"page-item\">\n            <a className=\"page-link\" href=\"#\" aria-label=\"Next\" onClick={this.handleMoveRight}>\n              <span aria-hidden=\"true\">&raquo;</span>\n              <span className=\"sr-only\">Next</span>\n            </a>\n          </li> */\n          <Pagination.Next onClick={()=>cbPageClick(currentPage+1)}  />\n        );\n\n        return (\n/*           <li key={index} className={`page-item${ currentPage === page ? ' active' : ''}`}>\n            <a className=\"page-link\" href=\"#\" onClick={ this.handleClick(page) }>{ page }</a>\n          </li> */\n          <Pagination.Item active={currentPage === page} onClick={()=>cbPageClick(page) }>{page}</Pagination.Item>\n        );\n\n      }) }\n\n</Pagination>)\n};\n\nexport default PageNums;\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row,Col } from \"react-bootstrap\";\nimport AdCard from \"./AdCard\";\nimport { useParams } from \"react-router-dom\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport PageNums from \"./PageNums\";\n\nconst ADSPERPAGE=8;\n\nconst MainPage = () => {\n  const {subCatId,catId,cityId,adsByUserId,adsByStoreId} = useParams();\n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [curPage,setCurPage] = useState(1);\n    const [totalPages,setTotalPages] = useState();\n\n    console.log(subCatId,catId,cityId,adsByUserId);\n    \n    useEffect(() => {\n      /* '/bycategory/:catId'\n'/bysubcategory/:subCatId' */\n      let url='ads/';\n\n      if(!subCatId && catId)url+=`bycategory/${catId}`;\n      else if(subCatId && !catId)url+=`bysubcategory/${subCatId}`;\n      else if(cityId)url+=`bycity/${cityId}`;\n      else if(adsByUserId)url+=`byuser/${adsByUserId}`;\n      else if(adsByStoreId)url+=`bystore/${adsByStoreId}`;\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.get(`${process.env.REACT_APP_BE}${url}?skip=${(curPage-1)*ADSPERPAGE}&limit=${ADSPERPAGE}`);\n                setCurrentlyLoadedAds(adList);\n                if(adList.length>0){\n                  setTotalPages(Math.ceil(parseInt(adList[0].totalRows,10)/ADSPERPAGE));\n                }else {\n                  setTotalPages(0);\n                  setCurPage(1);\n                }\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  //setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  //setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds()\n    }, [subCatId,catId,cityId,adsByStoreId,adsByUserId,curPage])\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (\n      <Row>\n        <Col>\n        <Row className=\"g-4\">\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <AdCard key={`adk${idx}`}\n            title={ad.title}\n            photo={ad.photos}\n            address={ad.address}\n            price={ad.price}\n            created={ad.created}\n            catId={ad.catId}\n            category={ad.category}\n            subCategoryId={ad.subCategoryId}\n            subCategory={ad.subCategory}\n            cityName={ad.cityName}\n            cityId={ad.cityId}\n            adId={ad.adId}\n            views={ad.views}\n             /> ))}\n        </Row>\n        <Row className='justify-content-center mt-4'>\n          <Col sm='auto'>\n          <PageNums totalPages={totalPages} currentPage={curPage} cbPageClick={setCurPage} />\n          </Col>\n        </Row>\n        \n        </Col>\n      </Row>\n    )\n}\n\nexport default MainPage\n","import { Instagram,Facebook,Twitter } from \"react-bootstrap-icons\"\n\nconst Footer = () => {\n    return (\n        <div className=\"container border-top mt-5\">\n            \n        <footer className=\"pt-5 d-none d-sm-block\">\n        <div className=\"row\">\n          <div className=\"col-2\">\n            <h5>Section</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Home</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Features</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Pricing</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">FAQs</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">About</a></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-2\">\n            <h5>Section</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Home</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Features</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Pricing</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">FAQs</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">About</a></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-2\">\n            <h5>Section</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Home</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Features</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Pricing</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">FAQs</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">About</a></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-4 offset-1\">\n            <form>\n              <h5>Subscribe to our newsletter</h5>\n              <p>Monthly digest of whats new and exciting from us.</p>\n              <div className=\"d-flex w-100 gap-2\">\n                <label htmlFor=\"newsletter1\" className=\"visually-hidden\">Email address</label>\n                <input id=\"newsletter1\" type=\"text\" className=\"form-control\" placeholder=\"Email address\"/>\n                <button className=\"btn btn-primary\" type=\"button\">Subscribe</button>\n              </div>\n            </form>\n          </div>\n        </div>\n    \n        <div className=\"d-flex justify-content-between pt-4 mt-4 border-top\">\n          <p>&copy; 2021 Company, Inc. All rights reserved.</p>\n          <ul className=\"list-unstyled d-flex\">\n            <li className=\"ms-3\"><a className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Twitter/></svg></a></li>\n            <li className=\"ms-3\"><a className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Instagram/></svg></a></li>\n            <li className=\"ms-3\"><a className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Facebook/></svg></a></li>\n          </ul>\n        </div>\n      </footer></div>\n    )\n}\n\nexport default Footer\n","import { Form, Button, Col, Row, FloatingLabel,Alert,Spinner } from \"react-bootstrap\";\nimport { useState,useContext } from 'react';\nimport { Redirect,useLocation } from \"react-router-dom\";\nimport { AppContext } from \"../context/AppContext\";\n\nconst SignIn = () => {\n  const location = useLocation();\n  const [email,setEmail]=useState('');\n  const [password,setPassword]=useState('');\n  const { loading, error, signIn, isAuthenticated } =\n  useContext(AppContext);\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n    await signIn({email,password})\n  };\n  if (isAuthenticated)\n    return (\n      <Redirect\n        to={{\n          pathname: location.state ? location.state.next : '/',\n          from: location.pathname\n        }}\n      />\n    );\n  if (loading) return <Spinner animation=\"border\" variant=\"secondary\" />;\n  return (\n    <Row className=\"justify-content-center mt-5\">\n      <Col md={4}>\n        <Form onSubmit={submitForm}>\n        {error && <Alert variant='danger'>{error}</Alert>}\n          <Form.Text className=\"text-muted\">\n            Please enter your email and password\n          </Form.Text>\n          <FloatingLabel controlId=\"floatingInput\" label=\"Email address\">\n            <Form.Control type=\"email\" placeholder=\"name@example.com\" onChange={(e)=>setEmail(e.target.value)} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingPassword\" label=\"Password\" className=\"mb-3\">\n            <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e)=>setPassword(e.target.value)} required />\n          </FloatingLabel>\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n            <Form.Check type=\"checkbox\" label=\"Remember me\" /> {/* fake for now */}\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n            Sign in\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  );\n};\n\nexport default SignIn;","import { Form, Button, Col, Row, FloatingLabel,Alert,Spinner } from \"react-bootstrap\";\nimport { useState,useContext } from 'react';\nimport { Redirect,useLocation } from \"react-router-dom\";\nimport { AppContext } from \"../context/AppContext\";\n\nconst SignUp = () => {\n  const location = useLocation();\n  const [userName,setUserName]=useState('');\n  const [phone,setPhoneNum]=useState('');\n  const [email,setEmail]=useState('');\n  const [password,setPassword]=useState('');\n  const [passwordConfirm,setPasswordConfirm]=useState('');\n  const { loading, error, signUp, isAuthenticated } =\n  useContext(AppContext);\n  const [validated, setValidated] = useState(false);\n\n  const submitForm = async (e) => {\n    const form = e.currentTarget;\n    if (form.checkValidity() === false) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    setValidated(true);\n    e.preventDefault();\n    await signUp({userName,email,password,passwordConfirm,phone})\n  };\n  if (isAuthenticated)\n    return (\n      <Redirect\n        to={{\n          pathname: location.state ? location.state.next : '/',\n          from: location.pathname\n        }}\n      />\n    );\n  if (loading) return <Spinner animation=\"border\" variant=\"secondary\" />;\n  return (\n    <Row className=\"justify-content-center mt-5\">\n      <Col md={4}>\n        <Form noValidate validated={validated} onSubmit={submitForm}>\n        {error && <Alert variant='danger'>{error}</Alert>}\n          <Form.Text className=\"text-muted\">\n            Please enter your email and password\n          </Form.Text>\n          <FloatingLabel controlId=\"floatingInputUserName\" label=\"Enter your name\" className=\"mb-1\">\n            <Form.Control type=\"text\" placeholder=\"John Doe\" onChange={(e)=>setUserName(e.target.value)} value={userName} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputPhoneNum\" label=\"Enter your phone number (optional)\" className=\"mb-1\">\n            <Form.Control  type=\"tel\" placeholder=\"+49 123 456 789 101\" onChange={(e)=>setPhoneNum(e.target.value)} value={phone} />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputEmail\" label=\"Email address\" className=\"mb-1\">\n            <Form.Control  type=\"email\" placeholder=\"name@example.com\" onChange={(e)=>setEmail(e.target.value)} value={email} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputPassword\" label=\"Password\" className=\"mb-1\">\n            <Form.Control  type=\"password\" placeholder=\"Password\" onChange={(e)=>setPassword(e.target.value)} value={password} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputConfirmPassword\" label=\"Confirm password\" className=\"mb-3\">\n            <Form.Control type=\"password\" placeholder=\"Confirm password\" onChange={(e)=>setPasswordConfirm(e.target.value)} value={passwordConfirm} required />\n          </FloatingLabel>\n          <Form.Check\n          required\n          label=\"Agree to terms and conditions\"\n          feedback=\"You must agree before submitting.\"\n        />\n          <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n            Sign in\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  );\n};\n\nexport default SignUp;\n\n/*     \"userName\":\"Garry\",\n    \"email\":\"garry@mail.com\",\n    \"password\":\"$up3Rp4$$w0RD\" */","import { useEffect } from 'react';\nimport { Map, Marker } from \"pigeon-maps\";\n\nconst MapGeolocationPos = ({setCoords,coords}) => {\n    const mapClick = ({ latLng }) => {\n        setCoords(latLng);\n    };\n    useEffect(()=>{\n        const options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n            };\n        const success=pos=>setCoords([pos.coords.latitude,pos.coords.longitude]);\n        const error=err=>console.warn(`ERROR(${err.code}): ${err.message}`);\n        if (!coords)navigator.geolocation.getCurrentPosition(success, error, options);\n    },[setCoords,coords])\n    return (\n        <Map\n            height={300}\n            center={coords}\n            defaultZoom={11}\n            onClick={mapClick}\n        >\n            {coords && <Marker width={50} anchor={coords} />}\n        </Map>\n    )\n}\n\nexport default MapGeolocationPos\n","import {useState,useContext,useEffect} from 'react'\nimport { Col, Row, Form, FloatingLabel, Carousel,Button,Alert } from 'react-bootstrap';\nimport { AppContext } from \"../context/AppContext\";\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\n import { useParams } from 'react-router-dom';\nimport CitiesSearchInput from './CitiesSearchInput';\nimport MapGeolocationPos from './MapGeolocationPos';\nimport { useHistory } from 'react-router';\nimport { TrashFill } from 'react-bootstrap-icons';\n\n\nconst CreateNewAd = () => {\n  const {adId} = useParams();\n  const hist = useHistory();\n   const { categoriesList, subCategoriesList } =\n    useContext(AppContext);\n    const axiosConfig = {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'multipart/form-data' }\n      };\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [adTitle, setAdTitle] = useState('');\n    const [adPrice, setAdPrice] = useState(0);\n    const [adAddress, setAdAddress] = useState('');\n    const [adCurStatus, setAdCurStatus] = useState();\n    const [adStatuses, setAdStatuses] = useState([]);\n\n    const [cityPlaceholder, setCityPlaceholder] = useState()\n    \n    const [selectedCatId,setSelectedCatId] = useState();\n    const [selectedSubCatId,setSelectedSubCatId] = useState();\n    const [curSubCatList,setCurSubCatList] = useState([]);\n\n    const [curCityId, setCurCityId] = useState();\n    const [coords,setCoords] = useState();\n    const [photoArray, setPhotoArray] = useState([]);\n    const [adDescription,setAdDescription] = useState();\n    const [sellAsStore,setSellAsStore] = useState(false)\n\n    const submitDataToServer = async () => {\n        //const cleanPhotoArray=photoArray.length>0 ? photoArray.map(ph=>ph.filename) : null;\n        const price = Number.isFinite(parseFloat(adPrice)) ? parseFloat(adPrice) : 0;\n        const sendData = {\n            title:adTitle,\n            description:adDescription,\n            subCategoryId:selectedSubCatId,\n            price:price,\n            cityId:curCityId,\n            address:adAddress,\n            photos:photoArray,\n            coords:coords,\n            currentState:adCurStatus,\n            sellAsStore:sellAsStore,\n        }\n        console.log(sendData);\n        try {\n            setLoading(true);\n            let resp;\n            if (adId){\n              resp = await axios.put(`${process.env.REACT_APP_BE}ads/${adId}`,sendData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            }else{\n              resp = await axios.post(`${process.env.REACT_APP_BE}ads`,sendData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            }\n            console.log(resp.data);\n            if (resp.data.id){\n              hist.push(`/view/${resp.data.id}`)\n            }\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    }\n\n    \n    \n\n      const deletePhoto = async (photoFilename) => {\n        setPhotoArray((prev) =>\n        prev.filter(\n          (item) => item !== photoFilename\n        )\n      )\n      const baseUrl = `${process.env.REACT_APP_BE}image-upload/`;\n      //const newOrEdit = adId ? baseUrl + 'editor/' : 'newad/';\n      try{\n      const { data } = await axios.delete(`${baseUrl}${photoFilename}`,axiosConfig);\n      console.log(data);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      }\n    }\n      \n      }\n\n    useEffect(() => {\n        if (selectedCatId){\n            //const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n            const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n            setCurSubCatList(subCatsOfCat);\n            if(subCatsOfCat.length>0){\n              if(!adId){\n                setSelectedSubCatId(subCatsOfCat[0].id)\n              }\n            }else{\n                setSelectedSubCatId(null);\n            }\n        }else{\n            \n            setSelectedCatId(categoriesList[0].id);\n            \n        }\n    }, [selectedCatId,subCategoriesList,categoriesList,adId]);\n\nuseEffect(() => {\n    const getAvalableStatuses = async () =>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}adstates`);\n            setAdStatuses(data);\n            setAdCurStatus(data[0].id)\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n    getAvalableStatuses();\n\n    if(adId){\n      const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}ads/${adId}`);\n            setAdTitle(data.title);\n            setAdPrice(data.price);\n            setAdAddress(data.address);\n            setAdCurStatus(data.currentState);\n            setAdDescription(data.description)\n            setPhotoArray(data.photos);\n            console.log('photos',data.photos);\n            setSelectedSubCatId(data.subCategoryId);\n            setCoords(data.coords)\n            setSelectedCatId(data.catId);\n            setCityPlaceholder(data.cityName);\n            setCurCityId(data.cityId)\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    };\n\n\n}, [adId])\n\n\nconst uploadImages = async(e) => {\n    const formData = new FormData();\n    for (let i=0;i<e.target.files.length;i++){\n        formData.append('image', e.target.files[i]);\n    }\n    try {\n        setLoading(true);\n\n        const { data:uploadedFilesPath } = await axios.post(`${process.env.REACT_APP_BE}image-upload`,formData,axiosConfig);\n        console.log(uploadedFilesPath);\n        if(photoArray)setPhotoArray(prev=>[...prev,...uploadedFilesPath]);\n        else setPhotoArray(uploadedFilesPath)\n        setLoading(false);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n\n}\n\n    if(!curSubCatList || loading)return <LoadingSpinner/>;\n\n    return (\n      <>\n        <Row>\n          {error && <Alert>{error}</Alert>}\n          <Col>\n            <FloatingLabel\n              controlId=\"floatingSelectCat\"\n              label=\"Choose category\"\n            >\n              <Form.Select\n                aria-label=\"Categories list\"\n                value={selectedCatId}\n                onChange={(e) => setSelectedCatId(parseInt(e.target.value, 10))}\n              >\n                {categoriesList.map((cat, idx) => (\n                  <option key={`catk${idx}`} value={cat.id}>\n                    {cat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n          <Col>\n            <FloatingLabel\n              controlId=\"floatingSelectSubCat\"\n              label=\"Choose sub-category\"\n            >\n              <Form.Select\n                aria-label=\"Sub categories list\"\n                value={selectedSubCatId}\n                onChange={(e) =>\n                  setSelectedSubCatId(parseInt(e.target.value, 10))\n                }\n              >\n                {curSubCatList.map((subCat, idx) => (\n                  <option key={`subCatk${idx}`} value={subCat.id}>\n                    {subCat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n        </Row>\n        <Row className=\"my-2\">\n          <Col sm={7}>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingInputTitle\"\n                  label=\"Enter title (required)\"\n                  className=\"mb-1\"\n                >\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Some title\"\n                    onChange={(e) => setAdTitle(e.target.value)}\n                    value={adTitle}\n                    required\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingTextareaDescription\"\n                  label=\"Enter description\"\n                >\n                  <Form.Control\n                    as=\"textarea\"\n                    placeholder=\"Enter description here\"\n                    onChange={(e) => setAdDescription(e.target.value)}\n                    value={adDescription}\n                    style={{ height: '200px' }}\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row className='mt-3'>\n              <Col>\n                <Form.Check\n                  required\n                  label=\"Sell as store\"\n                  feedback=\"Sell as store\"\n                  value={sellAsStore}\n                  onChange={(e) => setSellAsStore(e.target.checked)}\n                />{\" \"}\n                <br />\n                <Form.Check\n                  required\n                  label=\"Agree to terms and conditions\"\n                  feedback=\"You must agree before submitting.\"\n                />{\" \"}\n                <br />\n                <Button variant=\"primary\" onClick={submitDataToServer}>\n                  Submit\n                </Button>\n              </Col>\n\n              <Col>\n                <Form.Group controlId=\"formFileMultiple\" className=\"mb-3\">\n                  <Form.Control type=\"file\" multiple onChange={uploadImages} />\n                  <Form.Label>Choose photos to upload</Form.Label>\n                </Form.Group>\n\n                {photoArray && photoArray.length > 0 && (\n                  <>\n                    <Carousel variant='dark'>\n                      {photoArray.map((photo, idx) => (\n                        <Carousel.Item key={`photoK${idx}`}>\n                          <img\n                            className=\"d-block w-100\"\n                            src={`${process.env.REACT_APP_BE}images/${photo}`}\n                            alt=\"what is it?\"\n                            style={{ objectFit: \"scale-down\", height: \"25rem\" }}\n                          />\n                          <Carousel.Caption>\n                          <Button onClick={() => deletePhoto(photo)} variant=\"outline-danger\"> <TrashFill size={24} /> </Button>\n                          </Carousel.Caption>\n                        </Carousel.Item>\n                      ))}\n                    </Carousel>\n                  </>\n                )}\n              </Col>\n            </Row>\n          </Col>\n          <Col sm={5}>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingInputPrice\"\n                  label=\"Enter price\"\n                  className=\"mb-1\"\n                >\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"1 000 000\"\n                    onChange={(e) => setAdPrice(e.target.value)}\n                    value={adPrice}\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingSelectStatus\"\n                  label=\"Choose status\"\n                >\n                  <Form.Select\n                    aria-label=\"Ad statuses list\"\n                    value={adCurStatus}\n                    onChange={(e) =>\n                      setAdCurStatus(parseInt(e.target.value, 10))\n                    }\n                  >\n                    {adStatuses.map((status, idx) => (\n                      <option key={`statusk${idx}`} value={status.id}>\n                        {status.description}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row className=\"my-2\">\n              <Col>\n                <CitiesSearchInput\n                  setCoords={setCoords}\n                  setCityId={setCurCityId}\n                  cityPlaceholder={cityPlaceholder}\n                />\n              </Col>\n            </Row>\n            <Row className=\"my-2\">\n              <FloatingLabel\n                controlId=\"floatingInputAddress\"\n                label=\"Enter address (optional)\"\n                className=\"mb-1\"\n              >\n                <Form.Control\n                  as=\"textarea\"\n                  placeholder=\"Some street 1\"\n                  onChange={(e) => setAdAddress(e.target.value)}\n                  value={adAddress}\n                />\n              </FloatingLabel>\n            </Row>\n            <Row>\n              <Col>\n                <MapGeolocationPos setCoords={setCoords} coords={coords} />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </>\n    );\n}\n\nexport default CreateNewAd\n","import {useState,useContext,useEffect} from 'react';\nimport axios from 'axios';\nimport { Col, Row, Form, FloatingLabel,Button,InputGroup,Alert } from 'react-bootstrap';\nimport { AppContext } from \"../../context/AppContext\";\nimport LoadingSpinner from '../LoadingSpinner';\n\nconst AddEditCategory = () => {\n    //const userType = localStorage.getItem(\"userType\");\n    const { categoriesList, subCategoriesList,loading, error, setLoading, setError,updateMenuItems,setUpdateMenuItems } =\n    useContext(AppContext);\n\n    const [selectedCatId, setSelectedCatId] = useState();\n    const [catDesc,setCatDesc]=useState('');\n\n    const [curSubCatList, setCurSubCatList] = useState([]);\n    const [selectedSubCatId, setSelectedSubCatId] = useState();\n    const [subCatDesc,setSubCatDesc]=useState('');\n\n\n    const sendReq = async (reqType) => {\n        try {\n            setLoading(true);\n            const axiosConfig = {\n                headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n              };\n            let data;\n            if (reqType==='put'){\n                data = await axios.put(`${process.env.REACT_APP_BE}categories/${selectedCatId}`,{category:catDesc},axiosConfig);\n            }else if(reqType==='delete'){\n                data = await axios.delete(`${process.env.REACT_APP_BE}categories/${selectedCatId}`,axiosConfig);\n                setSelectedCatId(categoriesList[0].id);\n                setCatDesc(categoriesList[0].description);\n            }else if(reqType==='new'){\n                data = await axios.post(`${process.env.REACT_APP_BE}categories/`,{category:catDesc},axiosConfig);\n            }else if(reqType==='newSc'){\n                data = await axios.post(`${process.env.REACT_APP_BE}subcategories/`,{parentId:selectedCatId,subCategory:subCatDesc},axiosConfig);\n            }else if(reqType==='deleteSc'){\n                data = await axios.delete(`${process.env.REACT_APP_BE}subcategories/${selectedSubCatId}`,axiosConfig);\n            }else if(reqType==='putSc'){\n                data = await axios.put(`${process.env.REACT_APP_BE}subcategories/${selectedSubCatId}`,{parentId:selectedCatId,subCategory:subCatDesc},axiosConfig);\n            };\n            console.log(data);\n            setUpdateMenuItems(!updateMenuItems)\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 3000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 3000);\n              setLoading(false);\n            }\n          }\n    }\n\n    useEffect(() => {\n        if (selectedCatId){\n            \n            const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n            setCatDesc(curCat.description);\n\n            const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n            setCurSubCatList(subCatsOfCat);\n            if(subCatsOfCat.length>0){\n                setSelectedSubCatId(subCatsOfCat[0].id)\n                setSubCatDesc(subCatsOfCat[0].description)\n            }else{\n                setSubCatDesc('');\n                setSelectedSubCatId('');\n            }\n        }else{\n            \n            setSelectedCatId(categoriesList[0].id);\n            setCatDesc(categoriesList[0].description);\n        }\n    }, [categoriesList,selectedCatId,subCategoriesList]);\n\n    useEffect(() => {\n        \n        if (selectedSubCatId){\n            const curSubCat = curSubCatList.find(subCat=>subCat.id===selectedSubCatId);\n            setSubCatDesc(curSubCat.description);\n        }/* else{\n            \n            setSelectedCatId(categoriesList[0].id);\n            setCatDesc(categoriesList[0].description);\n        } */\n    }, [selectedSubCatId,subCategoriesList,selectedCatId,curSubCatList]);\n\n    if (loading) return <LoadingSpinner/>\n    return (<>\n        <Row className=\"py-4 bg-warning my-4\">\n            {error && <Col><Alert>{error}</Alert></Col>}\n            <Col>\n            <FloatingLabel controlId=\"floatingSelectCat\" label=\"Choose category\">\n                    <Form.Select aria-label=\"Categories list\" value={selectedCatId} onChange={(e)=>setSelectedCatId(parseInt(e.target.value,10))}>\n                        {categoriesList.map((cat,idx)=>(\n                            <option key={`catk${idx}`} value={cat.id}>{cat.description}</option>    \n                        ))}\n                    </Form.Select>\n                </FloatingLabel>\n            </Col>\n            <Col>\n            <InputGroup>\n        <FloatingLabel controlId=\"floatingInputCategory\" label=\"Category description\" className=\"mb-1\">\n            <Form.Control type=\"text\" placeholder=\"category description\" value={catDesc} onChange={(e)=>setCatDesc(e.target.value)} required />\n        </FloatingLabel>\n            <Button onClick={()=>sendReq('new')} variant=\"outline-dark\" disabled={catDesc.length===0}>Add New</Button>\n          <Button onClick={()=>sendReq('put')} variant=\"outline-dark\" disabled={catDesc.length===0 || !selectedCatId}>Rename</Button>\n          <Button onClick={()=>sendReq('delete')} variant=\"danger\" disabled={catDesc.length===0 || !selectedCatId}>Delete</Button>\n          </InputGroup>\n            </Col>\n        </Row>\n                <Row className=\"py-4 bg-warning my-4\">\n                <Col>\n                <FloatingLabel controlId=\"floatingSelectCat\" label=\"Choose category\">\n                        <Form.Select aria-label=\"Categories list\" value={selectedSubCatId} onChange={(e)=>setSelectedSubCatId(parseInt(e.target.value,10))}>\n                            {curSubCatList.length>0 ? curSubCatList.map((subCat,idx)=>(\n                                <option key={`sbcatk${idx}`} value={subCat.id}>{subCat.description}</option>    \n                            )) : '' }\n                        </Form.Select>\n                    </FloatingLabel>\n                </Col>\n                <Col>\n                <InputGroup>\n            <FloatingLabel controlId=\"floatingInputSubCategory\" label=\"Sub category description\">\n                <Form.Control type=\"text\" placeholder=\"sub category description\" value={subCatDesc} onChange={(e)=>setSubCatDesc(e.target.value)} required />\n            </FloatingLabel>\n                <Button onClick={()=>sendReq('newSc')} variant=\"outline-dark\" disabled={subCatDesc.length===0}>Add New</Button>\n              <Button onClick={()=>sendReq('putSc')} variant=\"outline-dark\" disabled={subCatDesc.length===0 || !selectedSubCatId}>Rename</Button>\n              <Button onClick={()=>sendReq('deleteSc')} variant=\"danger\"  disabled={subCatDesc.length===0 || !selectedSubCatId}>Delete</Button>\n              </InputGroup>\n                </Col>\n            </Row>\n            </>\n    )\n}\n\nexport default AddEditCategory\n","import axios from 'axios';\nimport { Alert,Row,Col,Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport LoadingSpinner from './LoadingSpinner';\nimport { Map, Marker } from \"pigeon-maps\";\nimport { TelephoneFill } from 'react-bootstrap-icons';\nimport AddToFavsButton from './AddToFavsButton';\n\nconst ViewSingleAd = () => {\n    const {adId}=useParams();\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [adData, setAdData] = useState({});\n   \n    useEffect(()=>{\n       const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}ads/${adId}`);\n            setAdData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    },[adId]);\nif (loading)return <LoadingSpinner/>\n    return ( <Row>\n        {/*  <Row className=\"mb-5\">\n            <Col>\n           <Breadcrumb>\n                <Breadcrumb.Item><Link to=\"/\">All ads</Link></Breadcrumb.Item>\n                <Breadcrumb.Item><Link to={`/categories/${adData.catId}`}>\n                    {adData.category}\n                    </Link>\n                </Breadcrumb.Item>\n                <Breadcrumb.Item>\n                <Link to={`/subcategories/${adData.subCategoryId}`}>\n                    {adData.subcategory}</Link>\n                </Breadcrumb.Item>\n                <Breadcrumb.Item active>{adData.subcategory} in {adData.cityName}</Breadcrumb.Item>\n            </Breadcrumb> \n            </Col>\n        </Row>*/}\n        \n            {error && <Alert>{error}</Alert>}\n            <Col>\n            <Row>\n            <Col className=\"m-3 p-3\" style={{backgroundColor:'#faf9f9'}}>\n                <Carousel variant=\"dark\">\n                  {adData.photos && adData.photos.length>0 ? adData.photos.map((photo, idx) => (\n                    <Carousel.Item key={`photoK${idx}`} >\n                      <img  style={{objectFit:'scale-down',height:'25rem'}}\n                        className=\"d-block w-100\"\n                        src={`${process.env.REACT_APP_BE}/images/${photo}`}\n                        alt=\"Something interesting\"\n                      />\n                    </Carousel.Item>\n                  )) : <Carousel.Item><img  style={{objectFit:'scale-down',height:'25rem'}} className=\"d-block w-100\" src='/images/noimg.png' alt=\"Nothing here\" /></Carousel.Item>}\n                </Carousel>\n            </Col>\n            </Row>\n            <Row>\n<Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n<Row>\n<Col>\n                  <h4>{adData.title}</h4>\n                  {adData.price && adData.price>0 && <h3>{adData.price}</h3>}\n                  <p className=\"mt-3\">{adData.description}</p>\n              </Col>\n\n</Row>\n<Row className=\"mt-4\">\n            <Col >\n                 <p className='fs-6 text-muted'>Views: {adData.views}</p> \n                  \n              </Col>\n              <Col>\n              <AddToFavsButton targetId={adData.adId} description={adData.title} />\n              </Col>\n              <Col>\n              <p className=\"fs-6 text-muted text-end\">ID: {adData.adId}</p>\n              </Col>\n            </Row>\n</Col>\n             \n            </Row>\n            \n            </Col>\n              <Col sm={4} >\n                  <Row>\n                  <Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n                  {adData.storeId && (<><Link to={`/viewstore/${adData.storeId}`} style={{textDecoration:'none'}}><h4 classname=\"secondary\">{adData.storeName}</h4></Link><br/></>)}\n                  <Link className=\"fs-6 text-muted\" to={`/byuser/${adData.ownerId}`} style={{textDecoration:'none'}}><h4>{adData.userName}</h4></Link> <br/>\n                  <h5><TelephoneFill size={24}/> {adData.userPhone}</h5><br/>\n                  <p className='fs-6 text-muted'>Member since {new Date(adData.created).toLocaleString()}</p>\n                  <p className='fs-6 text-muted'>Was online {new Date(adData.wasOnline).toLocaleString()}</p>\n                  <AddToFavsButton targetId={adData.ownerId} description={adData.userName} path='user' />\n                  </Col>\n                  </Row>\n                  <Row>\n                  <Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n                  <h5>{adData.cityName}</h5>\n                  <p>{adData.address}</p>\n                  <Map height={300} center={adData.coords} defaultZoom={11}>\n                    {adData.coords && <Marker width={50} anchor={adData.coords} />}\n                  </Map>\n                  </Col>\n                  </Row>\n              </Col>\n\n        </Row>\n\n\n\n    )\n}\n\nexport default ViewSingleAd\n","import axios from 'axios';\nimport {useEffect, useState,useContext} from 'react';\nimport { Row,Col, Button, Modal,Alert } from 'react-bootstrap';\nimport { PencilSquare, Trash } from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\nimport LoadingSpinner from './LoadingSpinner';\n\nconst UserProfile = () => {\n    const { signOut } = useContext(AppContext);\n    const [profileData, setProfileData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const [showModal, setShowModal] = useState(false);\n\n    const handleModalClose = () => setShowModal(false);\n    const handleModalShow = () => setShowModal(true);\n\n    const handleDeleteProfile = async () => {\n        try {\n            setLoading(true);\n            const { data } = await axios.delete(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            \n            console.log(data);\n            signOut();\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    useEffect(()=>{\n       const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setProfileData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    },[]);\n\n    if(loading)return <LoadingSpinner/>;\n    return (\n      <>\n        <Row className=\"justify-content-center\">\n          {error && <Alert>{error}</Alert>}\n          <Col sm={6}>\n            <Row>\n              <Col>\n                <h4>\n                  <small className=\"text-muted\">User name: </small>\n                  {profileData.name}\n                </h4>\n                <h4>\n                  <small className=\"text-muted\">E-Mail: </small>\n                  {profileData.email}\n                </h4>\n                <h4>\n                  <small className=\"text-muted\">Phone number: </small>\n                  {profileData.phone}\n                </h4>\n                <h4>\n                  <small className=\"text-muted\">Registered on: </small>\n                  {new Date(profileData.registerDate).toLocaleString()}\n                </h4>\n                <h4>\n                  <small className=\"text-muted\">User type: </small>\n                  {profileData.userType}\n                </h4>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <Button variant=\"outline-dark\" as={Link} to=\"/editprofile\">\n                  <PencilSquare /> Edit profile{\" \"}\n                </Button>\n                <Button variant=\"outline-danger\" onClick={handleModalShow}>\n                  <Trash /> Delete profile\n                </Button>{\" \"}\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        <Modal\n          show={showModal}\n          onHide={handleModalClose}\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Do you really want to delete your profile?\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            All your ads, your favotites and all your data will be deleted.\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={handleModalClose}>\n              No, missclicked!\n            </Button>\n            <Button variant=\"danger\" onClick={handleDeleteProfile}>\n              Yes, pls delete!\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n}\n\nexport default UserProfile","import { useState,useEffect,useContext } from 'react';\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\nimport { Col, Row,Form,FloatingLabel,Button,Alert } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\n\nconst EditProfile = () => {\n    const { signOut } = useContext(AppContext);\n    \n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [userName, setUserName] = useState('');\n    const [phone, setPhone] = useState('');\n    const [email, setEmail] = useState('');\n    const [showAlert, setShowAlert] = useState('');\n\n    useEffect(()=>{\n        const loadAdDetails = async ()=>{\n            try {\n                setLoading(true);\n                const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setUserName(data.name);\n                setPhone(data.phone);\n                setEmail(data.email);\n\n                console.log(data);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                }\n              }\n           };\n           loadAdDetails()\n    },[]);\n\n    const handleSaveChanges = async ()=>{\n        const editedProfile={\n            userName:userName,\n            email:email,\n            phone:phone,\n        }\n        try {\n            setLoading(true);\n            const { data } = await axios.put(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,editedProfile,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            if (String(data.id)===localStorage.getItem('userId')){\n                setShowAlert('You must re-login for the changes to take effect!');\n                setTimeout(()=>signOut(),5000)\n            }\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    if(loading)return <LoadingSpinner/>;\n    if(showAlert)return (<Row className=\"justify-content-center\"><Alert>{showAlert}</Alert></Row>)\n    return (\n        \n            <Row className=\"justify-content-center\">\n                {error && <Alert>{error}</Alert>}\n          <Col sm={4}>\n          <FloatingLabel\n              controlId=\"floatingInputUserName\"\n              label=\"Enter your name (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some username\"\n                onChange={(e) => setUserName(e.target.value)}\n                value={userName}\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingInputEmail\"\n              label=\"Enter your email (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some email\"\n                onChange={(e) => setEmail(e.target.value)}\n                value={email}\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingInputPhoneNumber\"\n              label=\"Enter your name (required)\"\n              className=\"mb-2\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some phone number\"\n                onChange={(e) => setPhone(e.target.value)}\n                value={phone}\n                required\n              />\n            </FloatingLabel>\n            <div className=\"d-grid gap-2\">\n            <Button variant=\"primary\" size=\"sm\" onClick={handleSaveChanges}>Save changes</Button>\n            <Button variant=\"secondary\" size=\"sm\" as={Link} to=\"/\">Cancel</Button>\n\n            </div>\n          </Col>\n          </Row>\n    )\n}\n\nexport default EditProfile\n","import { useState,useEffect } from 'react';\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\nimport { Col, Row,Form,FloatingLabel,Button,Alert } from 'react-bootstrap';\nimport { Link, useHistory,useParams } from 'react-router-dom';\nimport CitiesSearchInput from './CitiesSearchInput';\nimport MapGeolocationPos from './MapGeolocationPos';\n\nconst EditStore = () => {\n    const axiosConfig = {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'multipart/form-data' }\n      };\n    const {storeId} = useParams();\n\n    const [loading,setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const [storeTitle, setStoreTitle] = useState('');\n    const [storeAddress, setStoreAddress] = useState('');\n    const [storeDescription, setStoreDescription] = useState('');\n    const [storeLogoImg, setStoreLogoImg] = useState('');\n    const [cityId,setCityId] = useState();\n    const [coords,setCoords] = useState();\n    const [cityName,setCityName] = useState();\n    const hist = useHistory();\n\n    useEffect(() => {\n      const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}stores/my/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            //setStoreData(data);\n            setStoreTitle(data.title);\n            setStoreAddress(data.address);\n            setStoreDescription(data.description);\n            setStoreLogoImg(data.photo);\n            setCityId(data.cityId);\n            setCoords(data.coords);\n            setCityName(data.cityName);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n      if (storeId){\n        loadStoreDetails();\n      }\n    }, [storeId])\n\nconst uploadImage = async (e) => {\n    const formData = new FormData();\n    formData.append('image', e.target.files[0]);\n    try {\n        setLoading(true);\n\n        const { data:uploadedFile } = await axios.post(`${process.env.REACT_APP_BE}image-upload`,formData,axiosConfig);\n        console.log(uploadedFile);\n        setStoreLogoImg(uploadedFile[0]);\n        setLoading(false);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n}\n      \n\n/*     useEffect(()=>{\n        const loadAdDetails = async ()=>{\n            try {\n                setLoading(true);\n                const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setUserName(data.name);\n                setPhone(data.phone);\n                setEmail(data.email);\n\n                console.log(data);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                }\n              }\n           };\n           loadAdDetails()\n    },[]); */\n\n     const handleSaveChanges = async ()=>{\n        const storeData={\n            title:storeTitle,\n            address:storeAddress,\n            description:storeDescription,\n            coords:coords,\n            cityId:cityId,\n            photo:storeLogoImg,\n        };\n        try {\n            setLoading(true);\n            let resp;\n            if(storeId){\n              const { data } = await axios.put(`${process.env.REACT_APP_BE}stores/${storeId}`,storeData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n              resp=data;\n            }else{\n              const { data } = await axios.post(`${process.env.REACT_APP_BE}stores/`,storeData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n              resp=data;\n            }\n            console.log(resp);\n            if (resp.id){\n              setLoading(false);\n              hist.push(`/mystore`)\n            }\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n \n\n\n    if(loading)return <LoadingSpinner/>;\n    \n    return (\n        \n        <Row className=\"justify-content-center\">\n            <Col md={10}>\n                {error && <Alert>{error}</Alert>}\n                <Row>\n          <Col md={4}>\n          <FloatingLabel\n              controlId=\"floatingInputStoreName\"\n              label=\"Enter name of your store (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some title\"\n                onChange={(e) => setStoreTitle(e.target.value)}\n                value={storeTitle}\n                required\n              />\n            </FloatingLabel>\n\n            <FloatingLabel\n              controlId=\"floatingInputStoreDescription\"\n              label=\"Enter your store's description (required)\"\n              className=\"mb-2\"\n            >\n            <Form.Control\n                as=\"textarea\"\n                placeholder=\"Some descriptiion\"\n                style={{ height: '300px' }}\n                onChange={(e) => setStoreDescription(e.target.value)}\n                value={storeDescription}\n                required\n            />\n            </FloatingLabel>\n\n\n          </Col>\n          <Col md={4}>\n              <Row>\n                  <Col>\n                  <FloatingLabel\n              controlId=\"floatingInputStoreAddress\"\n              label=\"Enter address of your store (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some address\"\n                onChange={(e) => setStoreAddress(e.target.value)}\n                value={storeAddress}\n                required\n              />\n            </FloatingLabel>\n                  </Col>\n              </Row>\n            <Row className=\"my-2\">\n              <Col>\n                <CitiesSearchInput cityPlaceholder={cityName} setCoords={setCoords} setCityId={setCityId} />\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <MapGeolocationPos setCoords={setCoords} coords={coords} />\n              </Col>\n            </Row>\n          </Col>\n          <Col md={4}>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Control type=\"file\" onChange={uploadImage} />\n              <Form.Label>Choose photo or logo</Form.Label>\n            </Form.Group>\n            {storeLogoImg && <img src={`${process.env.REACT_APP_BE}images/${storeLogoImg}`} style={{objectFit:'scale-down',width:'18rem',height:'20rem' }} alt='logo' />}\n          </Col>\n\n            </Row>\n            <Row className=\"d-grid gap-2\">\n            <Button variant=\"primary\" size=\"sm\" onClick={handleSaveChanges}>Save changes</Button>\n            <Button variant=\"secondary\" size=\"sm\" as={Link} to=\"/\">Cancel</Button>\n\n            </Row>\n            </Col>\n            \n          </Row>)\n}\n\nexport default EditStore\n","import { useEffect, useState,useContext } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, FloatingLabel, Form } from \"react-bootstrap\";\nimport AdCard from \"./AdCard\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport { AppContext } from \"../context/AppContext\";\n\n    \nconst SearchResults = () => {\n\n    const {  categoriesList, subCategoriesList ,searchParams,setSearchParams } = useContext(AppContext);\n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n    const [selectedCatId,setSelectedCatId] = useState();\n    const [selectedSubCatId,setSelectedSubCatId] = useState();\n    const [curSubCatList,setCurSubCatList] = useState([]);\n    const [searchInCat,setSearchInCat] = useState(false);\n    const [searchInSubCat,setSearchInSubCat] = useState(false);\n\n    useEffect(() => {\n\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.post(`${process.env.REACT_APP_BE}search/v2/`,searchParams);\n                setCurrentlyLoadedAds(adList);\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds()\n    }, [searchParams]);\n\n    useEffect(() => {\n      console.log(searchInCat);\n      if(searchInCat)setSearchParams(prev=>{\n        const reqBody = {\n          cityId: prev.cityId,\n          cityCoords:prev.cityCoords,\n          distance: prev.distance,\n          searchText:prev.searchText,\n          catId:selectedCatId,\n          subCatId:null,\n        };\n        return reqBody;\n      });\n    }, [searchInCat,selectedCatId,setSearchParams])\n    useEffect(() => {\n      console.log(searchInSubCat);\n      if(searchInSubCat)setSearchParams(prev=>{\n        prev.subCatId=selectedSubCatId;\n        return prev;\n      });\n    }, [searchInSubCat,selectedSubCatId,setSearchParams])\n\n    useEffect(() => {\n      if (selectedCatId){\n          //const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n          const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n          setCurSubCatList(subCatsOfCat);\n          if(subCatsOfCat.length>0){\n              setSelectedSubCatId(subCatsOfCat[0].id)\n              \n          }else{\n              \n              setSelectedSubCatId(null);\n          }\n      }else{\n          \n          setSelectedCatId(categoriesList[0].id);\n          \n      }\n  }, [selectedCatId,subCategoriesList,categoriesList]);\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (\n        <Row>\n          <Col>\n          <Row>\n          <Col sm={3}>\n            <FloatingLabel\n              controlId=\"floatingSelectCat\"\n              label=\"Choose category\"\n            >\n              <Form.Select\n                aria-label=\"Categories list\"\n                value={selectedCatId}\n                onChange={(e) => setSelectedCatId(parseInt(e.target.value, 10))}\n              >\n                {categoriesList.map((cat, idx) => (\n                  <option key={`catk${idx}`} value={cat.id}>\n                    {cat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n          <Col>\n          <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"switchUseCategories\" defaultChecked={searchInCat} onChange={(e)=>setSearchInCat(e.target.checked)} />\n          <label className=\"form-check-label\" htmlFor=\"switchUseCategories\">Search in this category</label>\n        </div>\n          </Col>\n          </Row>\n          <Row>\n          <Col sm={3}>\n            <FloatingLabel\n              controlId=\"floatingSelectSubCat\"\n              label=\"Choose sub-category\"\n            >\n              <Form.Select\n                aria-label=\"Sub categories list\"\n                value={selectedSubCatId}\n                onChange={(e) =>\n                  setSelectedSubCatId(parseInt(e.target.value, 10))\n                }\n              >\n                {curSubCatList.map((subCat, idx) => (\n                  <option key={`subCatk${idx}`} value={subCat.id}>\n                    {subCat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n          <Col>\n          <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"switchUseSubCategories\" defaultChecked={searchInSubCat} onChange={(e)=>setSearchInSubCat(e.target.checked)} />\n          <label className=\"form-check-label\" htmlFor=\"switchUseSubCategories\">Search in this sub category</label>\n        </div>\n          </Col>\n          </Row>\n          \n          <Row className=\"g-4\">\n          <Alert variant=\"success\">Search results for: </Alert>\n          {currentlyLoadedAds.length===0 && <Alert variant=\"info\">No items found!</Alert>}\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <AdCard key={`adk${idx}`}\n            title={ad.title}\n            photo={ad.photos}\n            address={ad.address}\n            price={ad.price}\n            created={ad.created}\n            catId={ad.catId}\n            category={ad.category}\n            subCategoryId={ad.subCategoryId}\n            subCategory={ad.subCategory}\n            cityName={ad.cityName}\n            cityId={ad.cityId}\n            adId={ad.adId}\n            views={ad.views}\n             /> ))}\n          </Row>\n          </Col>\n\n        </Row>\n    )\n}\n\nexport default SearchResults\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Table, Modal, Button,Toast,ToastContainer,FloatingLabel,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash,Toggle2On } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyAdsPage = () => {\n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [showToast2,setShowToast2] = useState(false);\n    const [updateMyAdsList,setUpdateMyAdsList] = useState(false);\n\n    const [adIdForStatus,setAdIdForStatus] = useState();\n    const [adStatus,setAdStatus] = useState();\n    const [adStatuses, setAdStatuses] = useState([]);\n    const [showModalStateChg,setShowModalStateChg] = useState(false);\n    const handleModalStateChgClose = () => setShowModalStateChg(false);\n    const handleModalClose = () => setShowModal(false);\n    \n    useEffect(() => {\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.get(`${process.env.REACT_APP_BE}ads/byuser/${localStorage.getItem(\"userId\")}`);\n                setCurrentlyLoadedAds(adList);\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds();\n    }, [updateMyAdsList]);\n\n    useEffect(() => {\n      const getAvalableStatuses = async () =>{\n        try {\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}adstates`);\n            setAdStatuses(data);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n    getAvalableStatuses();\n    }, [])\n\n    const handleDeleteAd = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}ads/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true)\n          }\n          setLoading(false);\n          setUpdateMyAdsList(prev=>!prev);\n          \n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n            // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n\n\n     const handleChangeAdStatus =async () => {\n       const editData = {\n        adNewStateId:adStatus,\n       }\n      try {\n          setLoading(true);\n          const { data } = await axios.put(`${process.env.REACT_APP_BE}adstates/updatestate/${adIdForStatus}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModalStateChg(false);\n          if (data.id===adIdForStatus){\n            setShowToast2(true)\n          }\n          setLoading(false);\n          setUpdateMyAdsList(prev=>!prev);\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n            setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Ad # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n        <Toast bg='warning' onClose={() => setShowToast2(false)} show={showToast2} delay={3000} autohide>\n          <Toast.Body> Status successfully changed! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Title</th>\n        {/* <th>Description</th> */}\n        <th>Price</th>\n        <th>Sub category</th>\n        <th>Category</th>\n        <th>Created on</th>\n        <th>Edit</th>\n        <th>Delete</th>\n        <th>Status</th>\n      </tr>\n    </thead>\n    <tbody>\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/view/${ad.adId}`} style={{textDecoration:'none'}}>{ad.adId}</Link></td>\n              <td>{ad.title}</td>\n              {/* <td>{ad.description && ad.description.substring(0,50)}</td> */}\n              <td>{ad.price}</td>\n              <td>{ad.subCategory}</td>\n              <td>{ad.category}</td>\n              <td>{new Date(ad.created).toLocaleString()}</td>\n              <td><Link to={`/editad/${ad.adId}`}><PencilSquare size={24} /></Link></td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(ad.adId);\n                setShowModal(true)\n              }} /></td>\n              <td><Toggle2On size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setAdStatus(ad.currentState);\n                setAdIdForStatus(ad.adId);\n                setShowModalStateChg(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to delete ad # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteAd}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n    <Modal\n      show={showModalStateChg}\n      onHide={handleModalStateChgClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <FloatingLabel\n                  controlId=\"floatingSelectStatus\"\n                  label=\"Choose status\"\n                >\n                  <Form.Select\n                    aria-label=\"Ad statuses list\"\n                    value={adStatus}\n                    onChange={(e) =>\n                      setAdStatus(parseInt(e.target.value, 10))\n                    }\n                  >\n                    {adStatuses.map((status, idx) => (\n                      <option key={`statusk${idx}`} value={status.id}>\n                        {status.description}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </FloatingLabel>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalStateChgClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleChangeAdStatus}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n    </>\n    )\n}\n\nexport default MyAdsPage\n\n\n/*                  */","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Table, Modal, Button,Toast,ToastContainer,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyFavAds = () => {\n    const [favAds,setFavAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [updateFavList,setUpdateFavList] = useState(false);\n\n    const [editId,setEditId] = useState();\n    const [editAdId,setEditAdId] = useState();\n    const [editFavText, setEditFavText] = useState('');\n    const [showModalEditor,setShowModalEditor] = useState(false);\n\n    const handleModalEditorClose = () => setShowModalEditor(false);\n    const handleModalClose = () => setShowModal(false);\n\n    useEffect(() => {\n        const getFavAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:favList } = await axios.get(`${process.env.REACT_APP_BE}favads/myfav/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setFavAds(favList);\n                console.log(favList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getFavAds();\n    }, [updateFavList]);\n\n    const handleDeleteFavAd = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}favads/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true);\n          }\n          setLoading(false);\n          setUpdateFavList(prev=>!prev)\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            //setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n           // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n     const handleSaveChanges = async() =>{\n       const editData = {\n        favAdId:editAdId,\n        description:editFavText\n       }\n       try {\n        setLoading(true);\n        const { data } = await axios.put(`${process.env.REACT_APP_BE}favads/${editId}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n        console.log(data);\n        setShowModalEditor(false);\n        setLoading(false);\n        setUpdateFavList(prev=>!prev)\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          //setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n         // setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n     }\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Fav # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>Title</th>\n        <th>Description</th>\n        <th>Edit</th>\n        <th>Delete</th>\n      </tr>\n    </thead>\n    <tbody>\n            {favAds.map((fav,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/view/${fav.adId}`} style={{textDecoration:'none'}}>{fav.adTitle}</Link></td>\n              <td>{fav.description}</td>\n              <td><PencilSquare size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setEditFavText(fav.description);\n                setEditId(fav.id);\n                setEditAdId(fav.adId);\n                setShowModalEditor(true);\n              }}/> </td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(fav.id);\n                setShowModal(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to remove from favotites # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteFavAd}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n    <Modal\n      show={showModalEditor}\n      onHide={handleModalEditorClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <Form.Control value={editFavText} cols={40} onChange={(e)=>setEditFavText(e.target.value)} as=\"textarea\" rows={3} />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalEditorClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleSaveChanges}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n\n    </>\n    )\n}\n\nexport default MyFavAds\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Table } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { CheckCircle,CheckAll, Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyMessages = () => {\n    const [messageList,setMessageList] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n    const [updateMessageList,setUpdateMessageList] = useState(false);\n\n   \n    useEffect(() => {\n        const getMessageList = async () => {\n            try {\n                setLoading(true);\n                const { data:msgList } = await axios.get(`${process.env.REACT_APP_BE}messages/inbox/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setMessageList(msgList);\n                console.log(msgList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getMessageList();\n    }, [updateMessageList]);\n\nconst markRead = async(msgId)=>{\n  try {\n    setLoading(true);\n    const { data:res } = await axios.get(`${process.env.REACT_APP_BE}messages/markread/${msgId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n    if(res.id===msgId){\n      setUpdateMessageList(prev=>!prev);\n    }\n    console.log(res);\n    setLoading(false);\n  } catch (error) {\n    if (error.response) {\n      setError(error.response.data.error);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    } else {\n      setError(error.message);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    }\n  }\n};\nconst deleteMsg = async(msgId)=>{\n  try {\n    setLoading(true);\n    const { data:res } = await axios.delete(`${process.env.REACT_APP_BE}messages/${msgId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n    if(res.id===msgId){\n      setUpdateMessageList(prev=>!prev);\n    };\n    console.log(res);\n    setLoading(false);\n  } catch (error) {\n    if (error.response) {\n      setError(error.response.data.error);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    } else {\n      setError(error.message);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    }\n  }\n}\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n    if (!messageList || messageList.length<1) return <Alert variant=\"danger\">No messages</Alert>;\n\n    return (<>\n      <Row>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>From</th>\n        <th>Title</th>\n        {/* <th>Description</th> */}\n        <th>Link to ad</th>\n        <th>Mark</th>\n{/*         <th>Sub category</th>\n        <th>Category</th>\n        <th>Created on</th>\n        <th>Edit</th>\n        <th>Delete</th>\n        <th>Status</th> */}\n      </tr>\n    </thead>\n    <tbody>\n            {messageList.map((msg,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><p>{msg.fromUserName}</p></td>\n              <td><p>{msg.msgRead ? msg.msgTitle : <mark>{msg.msgTitle}</mark>}</p></td>\n              <td><Link to={`/view/${msg.adId}`} style={{textDecoration:'none'}}>{msg.adId}</Link></td>\n              <td>{msg.msgRead ? <CheckAll size={24} /> : <CheckCircle size={24} style={{cursor:'pointer'}} onClick={()=>{\n                markRead(msg.id)\n              }} />} \n              <Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                deleteMsg(msg.id);\n              }} />\n              \n              \n              </td>\n              {/* <td>{ad.description && ad.description.substring(0,50)}</td> */}\n{/*               <td>{ad.price}</td>\n              <td>{ad.subCategory}</td>\n              <td>{ad.category}</td>\n              <td>{new Date(ad.created).toLocaleString()}</td>\n              <td><Link to={`/editad/${ad.adId}`}><PencilSquare size={24} /></Link></td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(ad.adId);\n                setShowModal(true)\n              }} /></td>\n              <td><Toggle2On size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setAdStatus(ad.currentState);\n                setAdIdForStatus(ad.adId);\n                setShowModalStateChg(true)\n              }} /></td> */}\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n\n\n    </>\n    )\n}\n\nexport default MyMessages\n\n\n/*                  */","import axios from 'axios';\nimport {useEffect, useState} from 'react';\nimport { Row,Col, Button, Modal,Alert } from 'react-bootstrap';\nimport { PencilSquare, Trash } from 'react-bootstrap-icons';\nimport { Link,useHistory } from 'react-router-dom';\nimport { Map, Marker } from \"pigeon-maps\";\nimport LoadingSpinner from './LoadingSpinner';\n\nconst StoreProfile = () => {\n    const [storeData, setStoreData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const hist = useHistory();\n\n    const [showModal, setShowModal] = useState(false);\n\n    const handleModalClose = () => setShowModal(false);\n    const handleModalShow = () => setShowModal(true);\n\n    const handleDeleteStore = async () => {\n        try {\n            setLoading(true);\n            const { data } = await axios.delete(`${process.env.REACT_APP_BE}stores/${storeData.id}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            if (data.id===storeData.id){\n              setLoading(false);\n              hist.push(`/myprofile`)\n            }  \n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    useEffect(()=>{\n       const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}stores/my/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setStoreData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadStoreDetails();\n    },[]);\n\n    if(loading)return <LoadingSpinner/>;\n    if(!storeData)return (\n      <Row className=\"justify-content-center\">\n        <Col sm={6}>\n          <p className='text-center'>\n            You don't have a store yet. You can{\" \"}\n            <mark>\n              <Link to=\"/registerstore\">register</Link>\n            </mark>{\" \"}\n            one.\n          </p>\n        </Col>\n      </Row>\n    );\n\n    return (\n      <>\n        <Row className=\"justify-content-center\">\n          {error && <Alert>{error}</Alert>}\n          <Col sm={6}>\n            <Row>\n              <Col className='p-3'>\n                <h4>\n                  {storeData.title}\n                </h4>\n                <p>{storeData.description}</p>\n                <h6>\n                  <small className=\"text-muted\">Address: </small>\n                </h6>\n                <p>{storeData.address}, {storeData.cityName}</p>\n              </Col>\n              <Col sm={6} className='p-3'>\n              <img src={`${process.env.REACT_APP_BE}images/${storeData.photo}`} style={{objectFit:'scale-down', width:'18rem',height:'20rem' }} alt='logo' />\n              </Col>\n            </Row>\n            <Row>\n              <Col className='p-3'>\n              <Map height={300} center={storeData.coords} defaultZoom={11}>\n                    {storeData.coords && <Marker width={50} anchor={storeData.coords} />}\n                  </Map>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <Button variant=\"outline-dark\" as={Link} to={`/editstore/${storeData.id}`}>\n                  <PencilSquare /> Edit store data\n                </Button>\n                <Button variant=\"outline-danger\" onClick={handleModalShow}>\n                  <Trash /> Delete store\n                </Button>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        <Modal\n          show={showModal}\n          onHide={handleModalClose}\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Do you really want to delete your store?\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            All your ads will be deleted.\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={handleModalClose}>\n              No, missclicked!\n            </Button>\n            <Button variant=\"danger\" onClick={handleDeleteStore}>\n              Yes, pls delete!\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n}\n\nexport default StoreProfile","import axios from 'axios';\nimport {useEffect, useState} from 'react';\nimport { Row,Col,Alert } from 'react-bootstrap';\nimport { Link, useParams } from 'react-router-dom';\nimport { Map, Marker } from \"pigeon-maps\";\nimport LoadingSpinner from './LoadingSpinner';\n\nconst ViewStore = () => {\n  const {storeId} = useParams();\n  const [storeData, setStoreData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(()=>{\n       const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}stores/${storeId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setStoreData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadStoreDetails();\n    },[storeId]);\n\n    if(loading)return <LoadingSpinner/>;\n    return (\n      <>\n        <Row className=\"justify-content-center\">\n          {error && <Alert>{error}</Alert>}\n          <Col sm={6}>\n            <Row>\n              <Col className='p-3'>\n              <Link to={`/bystore/${storeData.id}`} style={{textDecoration:'none'}}><h4>\n                 {storeData.title}\n                </h4>\n              </Link>\n                <p>{storeData.description}</p>\n                <h6>\n                  <small className=\"text-muted\">Address: </small>\n                </h6>\n                <p>{storeData.address}, {storeData.cityName}</p>\n              </Col>\n              <Col sm={6} className='p-3'>\n              <img src={`${process.env.REACT_APP_BE}images/${storeData.photo}`} style={{objectFit:'scale-down', width:'18rem',height:'20rem' }} alt='logo' />\n              </Col>\n            </Row>\n            <Row>\n              <Col className='p-3'>\n              <Map height={300} center={storeData.coords} defaultZoom={11}>\n                    {storeData.coords && <Marker width={50} anchor={storeData.coords} />}\n                  </Map>\n              </Col>\n            </Row>\n\n          </Col>\n        </Row>\n\n      </>\n    );\n}\n\nexport default ViewStore","const NotFound = () => {\n    return (\n        <div>\n            <h1>404</h1>\n        </div>\n    )\n}\n\nexport default NotFound\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Table, Modal, Button,Toast,ToastContainer,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyFavUsers = () => {\n    const [favUsers,setFavUsers] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [updateFavList,setUpdateFavList] = useState(false);\n\n    const [editId,setEditId] = useState();\n    const [editAdId,setEditAdId] = useState();\n    const [editFavText, setEditFavText] = useState('');\n    const [showModalEditor,setShowModalEditor] = useState(false);\n\n    const handleModalEditorClose = () => setShowModalEditor(false);\n    const handleModalClose = () => setShowModal(false);\n\n    useEffect(() => {\n        const getFavUsers = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:favList } = await axios.get(`${process.env.REACT_APP_BE}favusers/myfav/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setFavUsers(favList);\n                console.log(favList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getFavUsers();\n    }, [updateFavList]);\n\n    const handleDeleteFavAd = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}favads/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true);\n          }\n          setLoading(false);\n          setUpdateFavList(prev=>!prev)\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            //setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n           // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n     const handleSaveChanges = async() =>{\n       const editData = {\n        favAdId:editAdId,\n        description:editFavText\n       }\n       try {\n        setLoading(true);\n        const { data } = await axios.put(`${process.env.REACT_APP_BE}favads/${editId}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n        console.log(data);\n        setShowModalEditor(false);\n        setLoading(false);\n        setUpdateFavList(prev=>!prev)\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          //setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n         // setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n     }\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Fav # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>Title</th>\n        <th>Description</th>\n        <th>Edit</th>\n        <th>Delete</th>\n      </tr>\n    </thead>\n    <tbody>\n            {favUsers.map((fav,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/view/${fav.adId}`} style={{textDecoration:'none'}}>{fav.adTitle}</Link></td>\n              <td>{fav.description}</td>\n              <td><PencilSquare size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setEditFavText(fav.description);\n                setEditId(fav.id);\n                setEditAdId(fav.adId);\n                setShowModalEditor(true);\n              }}/> </td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(fav.id);\n                setShowModal(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to remove from favotites # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteFavAd}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n    <Modal\n      show={showModalEditor}\n      onHide={handleModalEditorClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <Form.Control value={editFavText} cols={40} onChange={(e)=>setEditFavText(e.target.value)} as=\"textarea\" rows={3} />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalEditorClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleSaveChanges}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n\n    </>\n    )\n}\n\nexport default MyFavUsers\n","import { Route, Switch } from \"react-router-dom\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport AppContextWrapper from \"./context/AppContext\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Navigation from \"./components/Navigation\";\nimport MainPage from \"./components/MainPage\";\nimport Footer from \"./components/Footer\";\nimport SignIn from \"./components/SignIn\";\nimport SignUp from \"./components/SignUp\";\nimport CreateNewAd from \"./components/CreateNewAd\";\nimport AddEditCategory from \"./components/admin/AddEditCategory\";\nimport ViewSingleAd from \"./components/ViewSingleAd\";\nimport UserProfile from \"./components/UserProfile\";\nimport EditProfile from \"./components/EditProfile\";\nimport EditStore from \"./components/EditStore\";\nimport SearchResults from \"./components/SearchResults\";\nimport MyAdsPage from \"./components/MyAdsPage\";\nimport MyFavAds from \"./components/MyFavAds\";\nimport MyMessages from \"./components/MyMessages\";\nimport StoreProfile from \"./components/StoreProfile\";\nimport ViewStore from \"./components/ViewStore\";\nimport NotFound from \"./components/NotFound\";\nimport MyFavUsers from \"./components/MyFavUsers\";\nfunction App() {\n  return (\n    <AppContextWrapper>\n      <Container fluid>\n        <Navigation />\n        <Row className=\"justify-content-center my-4\">\n          <Col md={9}>\n            <Switch>\n              <Route exact path=\"/view/:adId\" component={ViewSingleAd} />\n              <Route exact path=\"/signin\" component={SignIn} />\n              <Route exact path=\"/signup\" component={SignUp} />\n              <Route exact path=\"/search\" component={SearchResults} />\n              <Route exact path=\"/viewstore/:storeId\" component={ViewStore} />\n              <ProtectedRoute exact path=\"/myprofile\" component={UserProfile} />\n              <ProtectedRoute exact path=\"/myfavads\" component={MyFavAds} />\n              <ProtectedRoute exact path=\"/myfavusers\" component={MyFavUsers} />\n              <ProtectedRoute exact path=\"/mystore\" component={StoreProfile} />\n              <ProtectedRoute exact path=\"/messages\" component={MyMessages} />\n              <ProtectedRoute\n                exact\n                path=\"/editprofile\"\n                component={EditProfile}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/registerstore\"\n                component={EditStore}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/editstore/:storeId\"\n                component={EditStore}\n              />\n              <ProtectedRoute exact path=\"/newad\" component={CreateNewAd} />\n              <ProtectedRoute exact path=\"/myads\" component={MyAdsPage} />\n              <ProtectedRoute\n                exact\n                path=\"/editad/:adId\"\n                component={CreateNewAd}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/admin/categoryeditor\"\n                component={AddEditCategory}\n              />\n\n              <Route\n                exact\n                path=\"/bysubcategory/:subCatId\"\n                component={MainPage}\n              />\n              <Route exact path=\"/bycategory/:catId\" component={MainPage} />\n              <Route exact path=\"/bycity/:cityId\" component={MainPage} />\n              <Route exact path=\"/byuser/:adsByUserId\" component={MainPage} />\n              <Route exact path=\"/bystore/:adsByStoreId\" component={MainPage} />\n\n              <Route exact path=\"/\" component={MainPage} />\n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          </Col>\n        </Row>\n        <Footer />\n      </Container>\n    </AppContextWrapper>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootswatch/dist/lux/bootstrap.min.css'; // Added this :boom:\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import './_variables.scss';\nimport App from './App';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}